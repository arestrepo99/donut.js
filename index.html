
<canvas id="canvas">

</canvas>


<!-- Click the keys: B, L, P, T -->

<!-- Checkbox -->
<br>
<!-- Set line spacing to hight -->
<div style="width:500 px; height: 50px; background-color: #f1f1f1;">
    <input type="checkbox" id="myCheck">
    <label for="myCheck">Lines</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="myCheck2">
    <label for="myCheck2">Points</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="myCheck4" checked>
    <label for="myCheck4">Triangles</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
    <input type="checkbox" id="myCheck6" checked>
    <label for="myCheck6">Texture</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="myCheck7" checked>
    <label for="myCheck7">Lighting</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="myCheck3" checked>
    <label for="myCheck3">Shading</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="myCheck5" checked>
    <label for="myCheck5">Rotate Donut</label>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="checkbox" id="myCheck8" checked>
    <label for="myCheck8">Rotate Light</label>

</div>


<canvas id="texture"></canvas>

<script type="module">

// const canvas = document.getElementById('canvas');
// const ctx = canvas.getContext('2d');

// Screeen size
const screenWidth = window.innerWidth;
const screenHeight = window.innerHeight;

// Set canvas width and height as screenWidth
canvas.width = screenWidth-20;
canvas.height = screenWidth-20;



// CODE STARTS
import Screen from './screen.js';
import Vector from './vector.js';
import Line from './line.js';
import Triangle from './triangle.js';
import {settings, toggle} from './input.js';
import drawDonut from './mesh.js';
const width = 800; const height = 800;

// Set canvas width and height as screenWidth
canvas.width = width;
canvas.height = height;


// drawDonut(1,1,0);





const rotation = {
    x: 0,
    y: 0,
    z: 0,
}
const lightRotation = {
    x: 0,
    y: 0,
    z: 0,
}

// rotation.x = Math.PI/2;
// rotation.y = Math.PI/4;

function mouseRotate(event) {
    event.preventDefault();
    // Movement in x and y
    rotation.x += event.movementX * 0.01;
    rotation.y += event.movementY * 0.01;
}
// On mouse down, call mouseRotate
canvas.addEventListener('mousedown', (event) => {
    canvas.addEventListener('mousemove', mouseRotate);
});
canvas.addEventListener('mouseup', () => {
    canvas.removeEventListener('mousemove', mouseRotate);
});


// Animation
let start_time = window.performance.now()/1000;
let seconds;
let fps;
let dt;
function loop(timestamp) {
    seconds = timestamp/1000;
    dt = seconds - start_time;
    fps = 1/dt;
    start_time = seconds;
    const screen = new Screen(width, height);
    console.log(screen.light);
    drawDonut(rotation, screen);
    if (settings.rotate) {
        rotation.x += -Math.PI*dt * 0.05;
        rotation.y += -Math.PI*dt * 0.1;
    }
    // if (settings.rotateLight){
    //     rotation.y += -Math.PI*dt * 0.03;
    // }

    // drawTriange(rotation);

    requestAnimationFrame(loop);
}

window.requestAnimationFrame(loop);
</script>